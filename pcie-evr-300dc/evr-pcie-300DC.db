# Base record set for an EVR
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  EVNT1HZ = DB event number for the 1 second tick


record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=Enable")
  field(DESC, "Master enable for EVR device")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  field( VAL , "$(Ena-Sel=0,undefined)")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-LinkTimo-I") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=HB Timeout Count")
  field(SCAN, "I/O Intr")
  field(DESC, "# of heartbeat timeout")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):ExtInhib-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=External Inhibit")
  field(PINI, "YES")
  field(DESC, "Use HW trigger inhibit (EVRTG only)")
  field(MASK, "1")
  field(ZNAM, "Use Inhibit")
  field(ONAM, "Always Permit")
  field(OSV, "MINOR")
  field( VAL , "$(ExtInhib-Sel=0,undefined)")
  info(autosaveFields_pass0, "VAL")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Link-Sts") {
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Link Status")
  field(DESC, "Status of event link")
  field(SCAN, "1 second")
  field(ZNAM, "Fail")
  field(ONAM, "OK")
  field(ZSV , "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "Receive Error Count")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Receive Error Count")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Link-Sts.TIME")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-HwOflw-I")
  field(EGU , "Cnt")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-Rate-I") {
  field(DESC, "Counts errors in time interval")
  field(SCAN, "10 second")
  field(CALC, "A-B")
  field(HIHI, "1")
  field(HHSV, "MAJOR")
  field(LOLO, "-1")
  field(LLSV, "MAJOR")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-Last_")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-Last_")
  field(EGU , "Cnt/10s")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-Last_"){
  field(DESC, "RxErr count for last period")
  field(SCAN, "Passive")
  field(INP, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-HwOflw-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "FIFO Hw Overflow Count")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=FIFO Overflow Count")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I.TIME")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-SwOflw-I")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-SwOflw-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "FIFO Sw Overrate Count")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=FIFO Over rate")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-RxErr-I.TIME")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Link-Init-FO_")
}

# Detect the first time the event link
# is online.  Then set master enable.
record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):Link-Init-FO_") {
  field(DESC, "Detect initial link up")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Link-Sts")
  field(CALC, "A")
  field(OUT , "$(SYS,recursive)-$(DEVICE,recursive):Ena-Sel PP")
  field(OOPT, "Transition To Non-zero")
  field(ODLY, "4")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Link-Sts.TIME")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=Clock")
  field(PINI, "YES")
  field(DESC, "Event Link speed")
  field(VAL , "$(Link-Clk-SP=88.0526,undefined)")
  field(EGU , "MHz")
  field(LINR, "LINEAR")
  field(ESLO, "1e-6")
  field(HOPR, "150")
  field(LOPR, "45")
  field(DRVH, "150")
  field(DRVL, "45")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I")
  info(autosaveFields_pass0, "VAL EGU ESLO HOPR LOPR DRVH DRVL PREC")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Clock")
  field(DESC, "Event Link speed")
  field(PINI, "YES")
  field(UDF , "0")
  field(EGU , "MHz")
  field(LINR, "LINEAR")
  field(ESLO, "1e-6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkErr-I")
  info(autosaveFields_pass0, "EGU ESLO HOPR LOPR PREC")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkErr-I") {
  field(CALC, "(A-B)*1000")
  field(EGU , "KHz")
  field(PREC, "3")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I.TIME")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I")
  info(autosaveFields_pass0, "EGU CALC PREC")
}

# Intended for use in calculations
record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I") {
  field(DESC, "Event period")
  field(CALC, "B/A")
  field(EGU , "s")
  field(PREC, "3")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-SP.ESLO")
  field(TSEL, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I.TIME")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-IRQ-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "Interrupt Count")
  field(SCAN, "1 second")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Interrupt Count")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Rate-IRQ-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Rate-IRQ-I") {
  field(DESC, "Interrupt rate")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-IRQ-I")
  field(CALC, "C:=A-B;B:=A;C")
  field(EGU , "Hz")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-FIFOEvt-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "FIFO Event Count")
  field(SCAN, "1 second")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=FIFO Event Count")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOEvt-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOEvt-I") {
  field(DESC, "FIFO reception rate")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-FIFOEvt-I")
  field(CALC, "C:=A-B;B:=A;C")
  field(EGU , "evt/s")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-FIFOLoop-I")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-FIFOLoop-I") {
  field(DTYP, "Obj Prop uint32")
  field(DESC, "FIFO Loop Count")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=FIFO Loop Count")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOLoop-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOLoop-I") {
  field(DESC, "FIFO service rate")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Cnt-FIFOLoop-I")
  field(CALC, "C:=A-B;B:=A;C")
  field(EGU , "Hz")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FIFOCap-I")
}

# average number of events taken from the FIFO during each loop
record(calc, "$(SYS,recursive)-$(DEVICE,recursive):FIFOCap-I") {
  field(DESC, "FIFO capacity utilization")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOEvt-I")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Rate-FIFOLoop-I")
  field(INPC, "5.11")
  field(CALC, "A/B/C")
  field(EGU , "%")
  field(HIHI, "98")
  field(HIGH, "80")
  field(LOW , "-1")
  field(HHSV, "MAJOR")
  field(HSV , "MINOR")
  field(LSV , "INVALID")
  info(autosaveFields_pass0, "HIHI HIGH LOW")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):CG-Sts") {
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=CG Lock Status")
  field(SCAN, "1 second")
  field(PINI, "YES")
  field(DESC, "Fractional synthesizer locked")
  field(ZNAM, "Error")
  field(ONAM, "OK")
  field(ZSV , "MAJOR")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pll-Sts") {
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=PLL Lock Status")
  field(SCAN, "1 second")
  field(PINI, "YES")
  field(DESC, "Status of PLL")
  field(ZNAM, "Unlock")
  field(ONAM, "Lock")
  field(ZSV , "MAJOR")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):PLL-Bandwidth-Sel") {
  field( DTYP, "Obj Prop uint16")
  field( OUT , "@OBJ=$(DEVICE,recursive), PROP=PLL Bandwidth")
  field( PINI, "YES")
  field( VAL,  "$(PLL-Bandwidth-Sel=4,undefined)")
  field( ZRST, "HM")
  field( ONST, "HL")
  field( TWST, "MH")
  field( THST, "MM")
  field( FRST, "ML")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVSV, "INVALID")
  field( SXSV, "INVALID")
  field( SVSV, "INVALID")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PLL-Bandwidth-RB")
  info(autosaveFields_pass0, "VAL")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):PLL-Bandwidth-RB") {
  field( DTYP, "Obj Prop uint16")
  field( INP , "@OBJ=$(DEVICE,recursive), PROP=PLL Bandwidth")
  field( ZRST, "HM")
  field( ONST, "HL")
  field( TWST, "MH")
  field( THST, "MM")
  field( FRST, "ML")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
}


record(longin, "$(SYS,recursive)-$(DEVICE,recursive):HwType-I") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Model")
  field(PINI, "YES")
  field(DESC, "Hardware type code")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FwVer-I") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Version")
  field(PINI, "YES")
  field(DESC, "Firmware version")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SwVer-I") {
  field(DTYP, "Obj Prop string")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Sw Version")
  field(PINI, "YES")
  field(DESC, "Software version")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):Pos-I") {
  field(DTYP, "Obj Prop string")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Position")
  field(PINI, "YES")
  field(DESC, "Card position in system")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Time-Init-FO_") {
  field(PINI, "YES")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Time-Clock-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Time-Src-Sel")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Time-Valid-Sts") {
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Timestamp Valid")
  field(PINI, "YES")
  field(SCAN, "I/O Intr")
  field(ZSV , "MAJOR")
  field(ZNAM, "Invalid")
  field(ONAM, "Valid")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):Time-Src-Sel") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):Time-Src-Sel_")
  field( PINI, "YES")
  field( VAL , "$(Time-Src-Sel=0,undefined)")
  field( ZRST, "Event clock")
  field( ONST, "Mapped code(s)")
  field( TWST, "DBus 4")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THSV, "INVALID")
  field( FRSV, "INVALID")
  field( FVSV, "INVALID")
  field( SXSV, "INVALID")
  field( SVSV, "INVALID")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Time-Src-Sel_")
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Time-Src-Sel_") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=Timestamp Source")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Time-Clock-I")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Time-Clock-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=Timestamp Clock")
  field(DESC, "Timestamp tick rate")
  field( VAL , "$(Time-Clock-SP=0.0,undefined)")
  field(EGU , "MHz")
  field(LINR, "LINEAR")
  field(ESLO, "1e-6")
  field(HOPR, "150")
  field(LOPR, "0")
  field(DRVH, "150")
  field(DRVL, "0")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Time-Clock-I")
  info(autosaveFields_pass0, "VAL EGU ESLO HOPR LOPR DRVH DRVL PREC")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Time-Clock-I") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Timestamp Clock")
  field(SCAN, "1 second")
  field(DESC, "Timestamp tick rate")
  field(PINI, "YES")
  field(UDF , "0")
  field(EGU , "MHz")
  field(LINR, "LINEAR")
  field(ESLO, "1e-6")
  field(HOPR, "150")
  field(LOPR, "0")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Time-Div-I")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Time-Div-I") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=Timestamp Prescaler")
  field(DESC, "Timestamp divider")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):Time-I") {
  field(DTYP, "EVR Timestamp")
  field(INP , "@OBJ=$(DEVICE,recursive)")
  field(SCAN, "Event")
  field(EVNT, "125")
  field(TSE , "125")
}

## Delay compensation records
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Enabled-Sel") {
  field(DESC, "Enable/disable delay compensation")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=dc enabled")
  field(PINI, "YES")
  field(VAL , "$(DlyCompensation-Enabled-Sel=1,undefined)")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Enabled-RB")
  info(autosaveFields_pass0, "VAL")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Enabled-RB") {
  field(DESC, "Enable/disable delay compensation")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=dc enabled")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
}

# This record is triggered through CP link and sets 
# target delay compensation value based on the linked record
record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Source-I") {
  field(INPA, "$(DlyCompensation-Source=,undefined) CP")
  field(CALC, "A")
  field(DISV, "1")
  field(DISA, "$(DlyCompensation-Source-Disa=0,undefined)")
  field(OUT , "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-SP") {
  field(VAL, "$(DlyCompensation-Target-SP=0,undefined)")
  field(PINI, "YES")
  field(EGU, "ns")
  field(DESC, "Delay compensation target value")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw_")
  info(autosaveFields_pass0, "VAL")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw_") {
  field(DESC, "Delay compensation target value")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(EGU, "ns")
  field(PREC, "0")
  field(CALC, "(FLOOR(A*B/1000)<<16)+((A-(FLOOR(A*B/1000)/B*1000))/(1000/(B*65535)))")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-SP")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=dc tv")
  field(EGU, "raw")
  field(DESC, "Delay compensation target value")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-RB")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(EGU, "raw")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=dc tv")
  field(DESC, "Delay compensation target value")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-RB") {
  field(DESC, "Delay compensation target value")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Target-Raw-RB")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(EGU, "ns")
  field(PREC, "5")
  field(LOLO, "50.0")
  field(LLSV, "MAJOR")
  field(CALC, "((A>>16)/B*1000)+((A & 65535)*(1000/(B*65535)))")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Path-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(EGU, "raw")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=dc tpd")
  field(DESC, "Delay compens trans path dly")
  field(SCAN, "1 second")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Path-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Path-RB") {
  field(DESC, "Delay compens trans path dly")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Path-Raw-RB")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(EGU, "ns")
  field(PREC, "5")
  field(CALC, "((A>>16)/B*1000)+((A & 65535)*(1000/(B*65535)))")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Internal-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(EGU, "raw")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=dc id")
  field(DESC, "Delay compensation internal delay")
  field(SCAN, "1 second")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Internal-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Internal-RB") {
  field(DESC, "Delay compensation internal delay")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Internal-Raw-RB")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(EGU, "ns")
  field(PREC, "5")
  field(CALC, "((A>>16)/B*1000)+((A & 65535)*(1000/(B*65535)))")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DlyCompensation-Status-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=dc s")
  field(DESC, "Delay compensation status")
  field(SCAN, "1 second")
}

# DBus status
record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):DBus-Status-I") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus status")
  field(PINI, "YES")
  field(DESC, "DBus bits value")
  field(SCAN, ".1 second")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-T-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Temperature")
  field(DESC, "Tranceiver Temperature")
  field(ADEL, "0.5")
  field(HIGH, "80")
  field(HSV , "MINOR")
  field(HIHI, "85")
  field(HHSV, "MAJOR")
  field(LOW , "0")
  field(LSV , "INVALID")
  field(EGU , "C")
  field(PREC, "1")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Pwr-TX-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Power TX")
  field(DESC, "Tranceiver Output Power")
  field(ADEL, "5")
  field(HIGH, "1000")
  field(HSV , "MINOR")
  field(LOW , "180")
  field(LSV , "MAJOR")
  field(LOLO, "-0.1") # SFP module removed
  field(LLSV, "INVALID")
  field(EGU , "uW")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "1")
  info(autosaveFields_pass0, "LOW")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Pwr-RX-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Power RX")
  field(DESC, "Tranceiver Input Power")
  field(ADEL, "5")
  field(HIGH, "600")
  field(HSV , "MINOR")
  field(LOW , "100")
  field(LSV , "MAJOR")
  field(LOLO, "-0.1") # SFP module removed
  field(LLSV, "INVALID")
  field(EGU , "uW")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "1")
  info(autosaveFields_pass0, "LOW")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Speed-Link-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Link Speed")
  field(DESC, "Tranceiver Line Rate")
  field(HIGH, "9000")
  field(HSV , "MAJOR")
  field(LOW , "3000")
  field(LSV , "MAJOR")
  field(LOLO, "-0.1")
  field(LLSV, "INVALID")
  field(EGU , "Mb/s")
  field(PREC, "0")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Vendor-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop string")
  field(DESC, "Vendor name")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Vendor")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Part-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop string")
  field(DESC, "Vendor part number")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Part")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Rev-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop string")
  field(DESC, "Vendor part revision")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Rev")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Serial-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop string")
  field(DESC, "SFP serial number")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Serial")
}

record(stringin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Date-Manu-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop string")
  field(DESC, "Manufactored date")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Date")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-Status-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Status/control register")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Status")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-PowerVCC-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop double")
  field(DESC, "Supply VCC Power")
  field(EGU , "V")
  field(PREC, "4")
  field(HIGH, "3.7")
  field(HSV , "MAJOR")
  field(LOW,  "2.9")
  field(LSV , "MAJOR")
  field(LOLO, "0")
  field(LLSV, "INVALID")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=Power VCC")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-BitRate-upper-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Upper bit rate margin")
  field(EGU , "%")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=BitRate Upper")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-BitRate-lower-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Lower bit rate margin")
  field(EGU , "%")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=BitRate Lower")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-LinkLength-9fiber-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint32")
  field(DESC, "Link length: 9/125 um fiber")
  field(EGU , "m")
  field(HIGH, "0xFFFFFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(LOLO, "-1")
  field(LLSV, "INVALID")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=LinkLength 9um")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-LinkLength-50fiber-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Link length: 50/125 um fiber")
  field(EGU , "m")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=LinkLength 50um")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-LinkLength-62fiber-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Link length: 62.5/125 um fiber")
  field(EGU , "m")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=LinkLength 62um")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):SFP0-LinkLength-copper-I") {
  field(SCAN, "10 second")
  field(DTYP, "Obj Prop uint16")
  field(DESC, "Link length: copper")
  field(EGU , "m")
  field(HIGH, "0xFFFF")
  field(HSV , "INVALID")
  field(LOW,  "0")
  field(LSV , "NO_ALARM")
  field(INP , "@OBJ=$(DEVICE,recursive):SFP0, PROP=LinkLength copper")
}# Data buffer status
# 
# Other records:
# $(SYS,recursive)-$(DEVICE,recursive):DBuf-SupportsRx-I : Indicates if this device supports data buffer reception
# 

# Checksum
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Cnt-Cs-I") {
  field(DESC, "Get checksum count for each segment")
  field(DTYP, "Obj Prop waveform in")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=ChecksumCount")
  field(SCAN, "2 second")
  field(FTVL, "ULONG")
  field(NELM, "128")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs-I") {
  field(DESC, "Checksum counts summed")
  field(DTYP, "Obj Prop uint32")
  field(SCAN, "2 second")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=ChecksumCountSum")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs-Rate-I") {
  field(DESC, "Counts overflows in time interval")
  field(SCAN, "10 second")
  field(CALC, "A-B")
  field(HIHI, "1")
  field(HHSV, "MAJOR")
  field(LOLO, "-1")
  field(LLSV, "MAJOR")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs-I")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs"){
  field(DESC, "Checksum counts in previous interval")
  field(SCAN, "Passive")
  field(PINI, "YES")
  field(INP,  "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Cs-I")
}


# Overflow
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Cnt-Oflw-I") {
  field(DESC, "Get overflow count for each segment")
  field(DTYP, "Obj Prop waveform in")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=OverflowCount")
  field(SCAN, "2 second")
  field(FTVL, "ULONG")
  field(NELM, "128")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw-I") {
  field(DESC, "Overflow counts summed")
  field(DTYP, "Obj Prop uint32")
  field(SCAN, "2 second")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=OverflowCount")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw-Rate-I") {
  field(DESC, "Counts overflows in time interval")
  field(SCAN, "10 second")
  field(CALC, "A-B")
  field(HIHI, "1")
  field(HHSV, "MAJOR")
  field(LOLO, "-1")
  field(LLSV, "MAJOR")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw-I")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw_")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw_")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw_"){
  field(DESC, "Overflow counts in previous interval")
  field(SCAN, "Passive")
  field(PINI, "YES")
  field(INP,  "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Sum-Oflw-I")
}


# Other
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-SupportsRx-I") {
  field(DESC, "Device supports reception")
  field(PINI, "YES")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=SupportsRx")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-SupportsTx-I") {
  field(DESC, "Device supports transmission")
  field(PINI, "YES")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=SupportsTx")
}

# This is for 230 series only. Has no effect on 300 series.
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Mode-Sel") {
  field(DESC, "Downstream data mode")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=EnableRx")
  field(ZNAM, "DBus only")
  field(ONAM, "DBus+Data Buffer")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Mode-RB")
  field(PINI, "YES")
  field(VAL , "$(DBuf-Mode-Sel=1,undefined)")
}

record(bi, "$(SYS,recursive)-$(DEVICE,recursive):DBuf-Mode-RB") {
  field(DESC, "Downstream data mode")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):DataBuffer, PROP=EnableRx")
  field(PINI, "YES")
  field(ZNAM, "DBus only")
  field(ONAM, "DBus+Data Buffer")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS0-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 0")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS0, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS0-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS0-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS0-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS0-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS0, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS0-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS0, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS0, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS0-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS0-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS0, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS1-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 1")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS1, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS1-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS1-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS1-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS1-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS1, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS1-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS1, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS1, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS1-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS1-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS1, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS2-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 2")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS2, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS2-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS2-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS2-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS2-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS2, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS2-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS2, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS2, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS2-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS2-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS2, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS3-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 3")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS3, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS3-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS3-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS3-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS3-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS3, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS3-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS3, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS3, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS3-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS3-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS3, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS4-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 4")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS4, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS4-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS4-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS4-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS4-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS4, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS4-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS4, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS4, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS4-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS4-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS4, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS5-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 5")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS5, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS5-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS5-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS5-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS5-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS5, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS5-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS5, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS5, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS5-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS5-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS5, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS6-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 6")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS6, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS6-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS6-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS6-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS6-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS6, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS6-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS6, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS6, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS6-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS6-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS6, PROP=Pulser mapping H")
}# Record set for an EVR's programable frequency divider
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = Prefix for devObj name
#  IDX = ID # corresponding to output mapping codes
#  MAX = Maximum division

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PS7-Div-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "Prescaler 7")
  field( OUT , "@OBJ=$(DEVICE,recursive):PS7, PROP=Divide")
  field( PINI, "YES")
  field( VAL , "$(PS7-Div-SP=2,undefined)") #Integer divisor between the Event Clock and the sub-unit output.
  field( HOPR, "0xffffffff")
  field( LOPR, "2")
  field( DRVH, "0xffffffff")
  field( DRVL, "2")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS7-Rate-I")
  info(autosaveFields_pass0, "VAL")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PS7-Rate-I") {
  field(DESC, "Output frequency")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PS7-Div-SP NPP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-Clk-I CP")
  field(CALC, "B/A")
  field(EGU, "MHz")
  field(PREC, "8")
}


# Map prescaler to a pulser
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-L-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS7, PROP=Pulser mapping L")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS7-PulserMap-L-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-L-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-L-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS7, PROP=Pulser mapping L")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-H-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):PS7, PROP=Pulser mapping H")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser mapping")
  field(RVAL, "$(PS7-PulserMap-H-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-H-RB")
}


record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):PS7-PulserMap-H-RB") {
  field(DTYP, "Obj Prop uint16")
  field(INP , "@OBJ=$(DEVICE,recursive):PS7, PROP=Pulser mapping H")
}# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul0-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul0-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 0")
  field(VAL , "$(Pul0-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul0-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(DRVH, "0xffff")
  field(DRVL, "1")
  field(VAL , "$(Pul0-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Prescaler-RB")
  field(DISP, "0")
  field(DISA, "0")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Prescaler")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul0-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul0-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul0-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul0, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul1-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul1-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 1")
  field(VAL , "$(Pul1-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul1-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(DRVH, "0xffff")
  field(DRVL, "1")
  field(VAL , "$(Pul1-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Prescaler-RB")
  field(DISP, "0")
  field(DISA, "0")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Prescaler")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul1-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul1-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul1-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul1, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul2-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul2-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 2")
  field(VAL , "$(Pul2-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul2-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(DRVH, "0xffff")
  field(DRVL, "1")
  field(VAL , "$(Pul2-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Prescaler-RB")
  field(DISP, "0")
  field(DISA, "0")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Prescaler")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul2-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul2-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul2-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul2, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul3-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul3-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 3")
  field(VAL , "$(Pul3-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul3-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(DRVH, "0xffff")
  field(DRVL, "1")
  field(VAL , "$(Pul3-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Prescaler-RB")
  field(DISP, "0")
  field(DISA, "0")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Prescaler")
  field(HOPR, "0xffff")
  field(LOPR, "1")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul3-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul3-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul3-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul3, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul4-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul4-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 4")
  field(VAL , "$(Pul4-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul4-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul4-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul4-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul4-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul4-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul4, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul5-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul5-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 5")
  field(VAL , "$(Pul5-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul5-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul5-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul5-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul5-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul5-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul5, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul6-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul6-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 6")
  field(VAL , "$(Pul6-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul6-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul6-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul6-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul6-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul6-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul6, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul7-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul7-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 7")
  field(VAL , "$(Pul7-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul7-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul7-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul7-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul7-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul7-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul7, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul8-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul8-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 8")
  field(VAL , "$(Pul8-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul8-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul8-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul8-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul8-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul8-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul8, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul9-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul9-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 9")
  field(VAL , "$(Pul9-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul9-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul9-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul9-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul9-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul9-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul9, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul10-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul10-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 10")
  field(VAL , "$(Pul10-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul10-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul10-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul10-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul10-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul10-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul10, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul11-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul11-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 11")
  field(VAL , "$(Pul11-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul11-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul11-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul11-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul11-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul11-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul11, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul12-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul12-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 12")
  field(VAL , "$(Pul12-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul12-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul12-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul12-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul12-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul12-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul12, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul13-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul13-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 13")
  field(VAL , "$(Pul13-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul13-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul13-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul13-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul13-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul13-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul13, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul14-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul14-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 14")
  field(VAL , "$(Pul14-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul14-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul14-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul14-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul14-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul14-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul14, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's programmable pulse generator
#
# Macros:
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  OBJ = devObj name prefix
#  ID = Pulse gen ID number (corresponds to output mappings)
#  DMAX = Max delay setting
#  WMAX = Max width setting
#  PMAX = Max prescaler (divider) setting
#  NOPS = 0 - enable prescaler, 1 - disable prescaler

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Ena-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Enable")
  field(PINI, "YES")
  field(VAL , "$(Pul15-Ena-Sel=1,undefined)")
  field(MASK, "1")
  field(ZNAM, "Disabled")
  field(ONAM, "Enabled")
  info(autosaveFields_pass0, "VAL")
}

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Polarity-Sel") {
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Polarity")
  field(PINI, "YES")
  field(VAL , "$(Pul15-Polarity-Sel=0,undefined)")
  field(MASK, "1")
  field(ZNAM, "Active High")
  field(ONAM, "Active Low")
  info(autosaveFields_pass0, "VAL")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Delay")
  field(PINI, "YES")
  field(DESC, "Pulse Generator 15")
  field(VAL , "$(Pul15-Delay-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Delay")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Delay")
  field(EGU , "cnts")
  field(HOPR, "0xffffffff")
  field(LOPR, "0")
  field(HIGH, "0xffffffff")
  field( HSV, "MAJOR")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-SP") {
  field(DTYP, "Obj Prop double")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Width")
  field(PINI, "YES")
  field(DESC, "Pulser pulse width")
  field(VAL , "$(Pul15-Width-SP=0,undefined)")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(HOPR, "0x3FFFFFFFFFF")
  field(LOPR, "0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-RB")
  info(autosaveFields_pass0, "VAL EGU ESLO PREC HOPR LOPR DRVL DRVH")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-RB") {
  field(DTYP, "Obj Prop double")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Width")
  field(VAL , "0")
  field(EGU , "us")
  field(LINR, "LINEAR")
  field(ESLO, "1e6")
  field(PREC, "3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-Raw-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-Raw-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Width")
  field(PINI, "YES")
  field(HOPR, "0xffff")
  field(LOPR, "0")
  field(HIGH, "0xffff")
  field( HSV, "MAJOR")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Prescaler-SP") {
  field(DTYP, "Obj Prop uint32")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Prescaler")
  field(DESC, "Pulser prescaler")
  field(PINI, "YES")
  field(HOPR, "1")
  field(LOPR, "1")
  field(DRVH, "1")
  field(DRVL, "1")
  field(VAL , "$(Pul15-Prescaler-SP=1,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Prescaler-RB")
  field(DISP, "1")
  field(DISA, "1")
  info(autosaveFields_pass0, "VAL")
}

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Prescaler-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Prescaler")
  field(HOPR, "1")
  field(LOPR, "1")
  field(HIGH, "1")
  field( HSV, "MAJOR")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Res-I")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Res-I") {
  field(DESC, "Resolution")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Prescaler-RB MS")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):Link-ClkPeriod-I CP")
  field(CALC, "1e9*(A?A:1)*B")
  field(EGU, "ns")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Res-FO_")
}

record(fanout, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Res-FO_") {
  field(DESC, "Clock change resync")
  field(LNK1, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Delay-SP")
  field(LNK2, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Width-SP")
}


# Pulse generator gates
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Mask-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Gate mask")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate mask")
  field(VAL,  "$(Pul15-Gate-Mask-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Mask-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Mask-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Gate mask")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Enable-SP") {
  field(DTYP, "Obj Prop uint16")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Gate enable")
  field(PINI, "YES")
  field(NOBT, "16")
  field(DESC, "Pulser gate enable")
  field(VAL,  "$(Pul15-Gate-Enable-SP=0,undefined)")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Enable-RB")
}

record(mbbiDirect, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Gate-Enable-RB") {
  field(DTYP, "Obj Prop uint16")
  field(NOBT, "16")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Gate enable")
}


# Pulse generator software set / reset
record(bo, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-SetReset-Sel") {
  field(DESC, "Software set/reset")
  field(DTYP, "Obj Prop bool")
  field(OUT , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Sw set reset")
  field(VAL , "0")
  field(ZNAM, "Reset")
  field(ONAM, "Set")
}

# Pulser output state (logic high, logic low)
record(bi, "$(SYS,recursive)-$(DEVICE,recursive):Pul15-Out-I") {
  field(DESC, "Output state")
  field(DTYP, "Obj Prop bool")
  field(INP , "@OBJ=$(DEVICE,recursive):Pul15, PROP=Output")
  field(ZNAM, "Low")
  field(ONAM, "High")
}
# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV0")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut0, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut0-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV0")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut0, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut0-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV0")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut0, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV0")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut0, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut0-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV0")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut0, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut0-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV1")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut1, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut1-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV1")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut1, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut1-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV1")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut1, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV1")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut1, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut1-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV1")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut1, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut1-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV2")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut2, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut2-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV2")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut2, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut2-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV2")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut2, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV2")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut2, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut2-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV2")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut2, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut2-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV3")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut3, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut3-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV3")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut3, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut3-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV3")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut3, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV3")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut3, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut3-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV3")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut3, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut3-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV4")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut4, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut4-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV4")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut4, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut4-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV4")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut4, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV4")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut4, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut4-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV4")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut4, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut4-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV5")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut5, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut5-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV5")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut5, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut5-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV5")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut5, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV5")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut5, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut5-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV5")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut5, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut5-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV6")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut6, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut6-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV6")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut6, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut6-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV6")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut6, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV6")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut6, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut6-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV6")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut6, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut6-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV7")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut7, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut7-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV7")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut7, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut7-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV7")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut7, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV7")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut7, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut7-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV7")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut7, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut7-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV8")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut8, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut8-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV8")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut8, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut8-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV8")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut8, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV8")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut8, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut8-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV8")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut8, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut8-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV9")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut9, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut9-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV9")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut9, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut9-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV9")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut9, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV9")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut9, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut9-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV9")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut9, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut9-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV10")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut10, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut10-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV10")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut10, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut10-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV10")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut10, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV10")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut10, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut10-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV10")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut10, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut10-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV11")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut11, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut11-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV11")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut11, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut11-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV11")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut11, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV11")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut11, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut11-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV11")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut11, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut11-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV12")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut12, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut12-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV12")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut12, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut12-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV12")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut12, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV12")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut12, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut12-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV12")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut12, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut12-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV13")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut13, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut13-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV13")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut13, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut13-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV13")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut13, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV13")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut13, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut13-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV13")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut13, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut13-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV14")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut14, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut14-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV14")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut14, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut14-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV14")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut14, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV14")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut14, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut14-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV14")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut14, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut14-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Record set for an EVR's physical output
#
# Macros-
#  SYS = System name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID  = ID # of the output
#  OBJ = devObj name prefix
#  DESC = Physical label found on output jack

record(bo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Ena-SP") {
  field( DTYP, "Obj Prop bool")
  field( DESC, "Output UNIV15")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut15, PROP=Enable")
  field( PINI, "YES")
  field( ZNAM, "Disabled")
  field( ONAM, "Enabled")
  field( VAL , "$(FrontUnivOut15-Ena-SP=1,undefined)") # Default to enabled
  info(autosaveFields_pass0, "VAL")
}

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV15")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut15, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut15-Src-SP=63,undefined)")  # Defaults to Force high (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback

record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV15")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut15, PROP=Map")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

# Select which is displayed

# Place for user provided note of what is
# connected to this output.
record(waveform, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-User-SP") {
  field( DESC, "Desc. of user or purpose")
  field( FTVL, "CHAR")
  field( NELM, "128")
  field( NORD, "1") # default include null termination
  info(autosaveFields_pass1, "VAL")
}





### Second source records

record(longout, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-SP") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV15")
  field( OUT , "@OBJ=$(DEVICE,recursive):FrontUnivOut15, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB")
  field( PINI, "YES")
  field( VAL , "$(FrontUnivOut15-Src2-SP=63,undefined)")  # Defaults to Force low (if enabled -> Ena-SP)
  info(autosaveFields_pass0, "VAL HOPR LOPR DRVH DRVL")
}

# Settings
# Users use will set one of these at a time.

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-SP PP")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse2-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-SP PP")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-DBus-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-SP PP")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "INVALID")
  field( NISV, "INVALID")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

record(mbbo, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Scale-SP") {
  field( DTYP, "Raw Soft Channel")
  field( OUT , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-SP PP")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( VAL , "3")
  field( TESV, "INVALID")
  field( ELSV, "INVALID")
  field( TVSV, "INVALID")
  field( TTSV, "INVALID")
  field( FTSV, "INVALID")
  field( FFSV, "INVALID")
  field( UNSV, "INVALID")
  field( IVOA, "Don't drive outputs")
  info(autosaveFields_pass0, "VAL")
}

# Mapping readback



record(longin, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB") {
  field( DTYP, "Obj Prop uint32")
  field( DESC, "UNIV15")
  field( INP , "@OBJ=$(DEVICE,recursive):FrontUnivOut15, PROP=MapAlt")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB")
  field( ZRST, "Pulser 0")
  field( ONST, "Pulser 1")
  field( TWST, "Pulser 2")
  field( THST, "Pulser 3")
  field( FRST, "Pulser 4")
  field( FVST, "Pulser 5")
  field( SXST, "Pulser 6")
  field( SVST, "Pulser 7")
  field( EIST, "Pulser 8")
  field( NIST, "Pulser 9")
  field( TEST, "Pulser 10")
  field( ELST, "Pulser 11")
  field( TVST, "Pulser 12")
  field( TTST, "Pulser 13")
  field( FTST, "Pulser 14")
  field( FFST, "Pulser 15")
  field( ZRVL, "0")
  field( ONVL, "1")
  field( TWVL, "2")
  field( THVL, "3")
  field( FRVL, "4")
  field( FVVL, "5")
  field( SXVL, "6")
  field( SVVL, "7")
  field( EIVL, "8")
  field( NIVL, "9")
  field( TEVL, "10")
  field( ELVL, "11")
  field( TVVL, "12")
  field( TTVL, "13")
  field( FTVL, "14")
  field( FFVL, "15")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse2-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Pulse2-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB")
  field( ZRST, "Pulser 16")
  field( ONST, "Pulser 17")
  field( TWST, "Pulser 18")
  field( THST, "Pulser 19")
  field( FRST, "Pulser 20")
  field( FVST, "Pulser 21")
  field( SXST, "Pulser 22")
  field( SVST, "Pulser 23")
  #field( EIST, "Pulser 24")
  #field( NIST, "Pulser 25")
  #field( TEST, "Pulser 26")
  #field( ELST, "Pulser 27")
  #field( TVST, "Pulser 28")
  #field( TTST, "Pulser 29")
  #field( FTST, "Pulser 30")
  #field( FFST, "Pulser 31")
  field( ZRVL, "16")
  field( ONVL, "17")
  field( TWVL, "18")
  field( THVL, "19")
  field( FRVL, "20")
  field( FVVL, "21")
  field( SXVL, "22")
  field( SVVL, "23")
  #field( EIVL, "24")
  #field( NIVL, "25")
  #field( TEVL, "26")
  #field( ELVL, "27")
  #field( TVVL, "28")
  #field( TTVL, "29")
  #field( FTVL, "30")
  #field( FFVL, "31")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-DBus-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-DBus-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB")
  field( ZRST, "DBus 0")
  field( ONST, "DBus 1")
  field( TWST, "DBus 2")
  field( THST, "DBus 3")
  field( FRST, "DBus 4")
  field( FVST, "DBus 5")
  field( SXST, "DBus 6")
  field( SVST, "DBus 7")
  field( ZRVL, "32")
  field( ONVL, "33")
  field( TWVL, "34")
  field( THVL, "35")
  field( FRVL, "36")
  field( FVVL, "37")
  field( SXVL, "38")
  field( SVVL, "39")
  field( EISV, "MAJOR")
  field( NISV, "MAJOR")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( FLNK, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Scale-RB")
}

record(mbbi, "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-Scale-RB") {
  field( DTYP, "Raw Soft Channel")
  field( INP , "$(SYS,recursive)-$(DEVICE,recursive):FrontUnivOut15-Src2-RB")
  field( ZRST, "Prescaler 0")
  field( ONST, "Prescaler 1")
  field( TWST, "Prescaler 2")
  field( THST, "Prescaler 3")
  field( FRST, "Prescaler 4")
  field( FVST, "Prescaler 5")
  field( SXST, "Prescaler 6")
  field( SVST, "Prescaler 7")
  field( ZRVL, "40")
  field( ONVL, "41")
  field( TWVL, "42")
  field( THVL, "43")
  field( FRVL, "44")
  field( FVVL, "45")
  field( SXVL, "46")
  field( SVVL, "47")
  field( EIST, "Force Low")
  field( NIST, "Force High")
  field( EIVL, "63")
  field( NIVL, "62")
  field( TESV, "MAJOR")
  field( ELSV, "MAJOR")
  field( TVSV, "MAJOR")
  field( TTSV, "MAJOR")
  field( FTSV, "MAJOR")
  field( FFSV, "MAJOR")
  field( UNSV, "MAJOR")
  field( UNSV, "MAJOR")
}

#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus0-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 0")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus0-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus1-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 1")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 1")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus1-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus2-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 2")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 2")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus2-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus3-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 3")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus3-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus4-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 4")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 4")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus4-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus5-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 5")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 5")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus5-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus6-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 6")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 6")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus6-RB")
  field(CALC, "A>>16")
}
#DBus to pulser map
# Control for mapping of a DBus bit to pulse geneators
#
# Macros:
#  SYS = system name
#  DEVICE = Event receiver / timing card name (same as mrmEvrSetupVME()) Eg. EVR0
#  ID = DBus bit to map
#  
#  
#  VAL = Binary selection of pulsers:
#         0 = Pulser 0
#         1 = Pulser 1
#
record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-L-SP") {
  field(DESC, "Pulsers 0-15 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7_")
}

record(mbboDirect, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-H-SP") {
  field(DESC, "Pulsers 16-31 mapping")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7_")
}

record(calcout, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7_") {
  field(DESC, "Concats mbboDirect records")
  field(CALC, "A|(B<<16)")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-L-SP")
  field(INPB, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-H-SP")
  field(OUT, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-SP PP")
}

record(ao, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-SP") {
  field(DTYP, "Obj Prop uint32")
  field(PINI, "YES")
  field(VAL , "$(PulserMap-Dbus7-SP=0,undefined)")
  field(OUT , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 7")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-RB")
}

record(ai, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-RB") {
  field(DTYP, "Obj Prop uint32")
  field(INP , "@OBJ=$(DEVICE,recursive), PROP=DBus Pulser Map 7")
  field(FLNK, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-H-RB")
}

record(calc, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-H-RB") {
  field(DESC, "Readback for bits 31-16")
  field(INPA, "$(SYS,recursive)-$(DEVICE,recursive):PulserMap-Dbus7-RB")
  field(CALC, "A>>16")
}
